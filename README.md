# R2AutoNav CDE2310 Group-7
This repository contains a complete ROS 2-based autonomous navigation and heat-sensing system designed for simulation and real-world implementation using a TurtleBot3. It leverages the Nav2 stack, RViz, and various custom ROS 2 nodes for dynamic exploration, thermal detection, and autonomous movement.

## Features
- Autonomous exploration using Nav2 with frontier-based logic
- Thermal hotspot detection using the AMG8833 thermal sensor
- Custom launch and parameter files tailored for simulation and real robot
- Editable local versions of turtlebot3, turtlebot3_simulations, and DynamixelSDK
- Easily testable in simulation with Gazebo, RViz, and Nav2

## Directory Structure
r2auto_nav_CDE2310_Group-7/ ├── src/ # Source ROS 2 packages │ ├── auto_nav/ # Main logic and navigation launch │ ├── py_pubsub/ # Example pub/sub package │ ├── turtlebot3/ # Editable local copy │ ├── turtlebot3_simulations/ # Editable local copy │ ├── turtlebot3_msgs/ # Editable local copy │ └── DynamixelSDK/ # Local motor SDK │ ├── Modified Code and Parameters/ # Reference-only editable text files │ ├── bashrc.txt │ ├── bringup_launch.txt │ ├── nav2_params.txt │ ├── mapper_params_online_sync.txt │ └── navigate_to_pose_w_replanning_and_recovery.txt │ ├── README.md ├── build/ # Ignored by Git, generated by colcon ├── install/ # Ignored by Git, generated by colcon ├── log/ # Ignored by Git, runtime logs

## System Requirements
| Component              | Version/Notes                                                |
|------------------------|--------------------------------------------------------------|
| Ubuntu                 | 22.04                                                        |
| ROS 2                  | Humble Hawksbill                                             |
| Nav2                   | Installed using `ros-humble-navigation2`                     |
| TurtleBot3             | Burger or Waffle Pi with appropriate firmware flashed        |
| AMG8833 Thermal Imager | For obtaining thermal signals from the environment           |
| RViz2                  | For visualization                                            |
| Gazebo                 | Optional, for simulation                                     |
| Python                 | 3.10+ (default for ROS 2 Humble)                             |


## Installation Steps
### Step 1: Clone this repository into your ROS 2 workspace
cd ~/colcon_ws/src
git clone https://github.com/yap-han/r2auto_nav_CDE2310_Group-7.git

### Step 2: Install dependencies
cd ~/colcon_ws
rosdep install --from-paths src --ignore-src -r -y

### Step 3: Build the workspace
colcon build

### Step 4: Source the workspace
source install/setup.bash


## Setting Up Your Environment
- Copy the contents of r2auto_nav_CDE2310_Group-7/Modified Code and Parameters/bashrc.txt into your ~/.bashrc:
- Adjust paths or parameters as needed, then apply: source ~/.bashrc
- Take note of the aliases included in the bashrc.txt file. 


## Modifying Nav2 Parameters
The files inside `Modified Code and Parameters/` are provided in `.txt` format so users can review and selectively copy-paste into their own environment. These are not loaded automatically by launch files — you must manually transfer the contents to the appropriate directories. The earlier portions of the directory structure have been omitted as they may differ between users.

| Text File                                        | Copy To                                                                                      |
|--------------------------------------------------|-----------------------------------------------------------------------------------------------|
| bringup_launch.txt                               | .../nav2_bringup/launch/bringup_launch.py                                                    |
| nav2_params.txt                                  | .../nav2_bringup/params/nav2_params.yaml                                                     |
| mapper_params_online_sync.txt                    | .../slam_toolbox/config/mapper_params_online_sync.yaml                                       |
| navigate_to_pose_w_replanning_and_recovery.txt   | .../nav2_bt_navigator/behavior_trees/navigate_to_pose_w_replanning_and_recovery.xml          |
| bashrc.txt                                       | ~/.bashrc                                                                                    |


## Running the packages
Each number represents a different terminal here.
### In Gazebo - only exploration can be tested here. 
1) gztest #launch test world OR gzdefault #launch turtlebot_world
2) gnav2bu #launch nav2 bringup file with use_sim_time = True
3) nav2rviz #visualize environment, paths and costmaps
4) run_autonav2 #run exploration package

### Real-life implementation - the following must be done beforehand
Ensure that the AMG88333 has been mounted on front of Turtlebot
Ensure that remote PC and RaspberryPi are connected and discoverable in same network
Copy the amg.py file in src/auto_nav/auto_nav to the Raspberry Pi. 
Ensure that the amg.py file can be compiled correctly and the necessary packages are installed on the RPi.

1) ssh ubuntu@Raspberry Pi IP Address --> rosbu
2) ssh ubuntu@Raspberry Pi IP Address --> python3 amg.py
2) nav2bu #launch nav2 bringup file use_sim_time = False
3) nav2rviz #visualize environment, paths and costmaps
4) run_autonav2 #run exploration package


